<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>CTR PREDICTOR</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<script src="js/d3.v3.min.js" charset="utf-8"></script>
		<link rel="stylesheet" href="css/custom.css" />
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
		</noscript>
		<style>
			.chart div {
				font: 10px sans-serif;
				background-color: steelblue;
				text-align: right;
				padding: 3px;
				margin: 1px;
				color: white;
			}
			.axis path {
				fill: none;
				stroke: #777;
				shape-rendering: crispEdges;
			}
			.axis text {
				font-family: Lato;
				font-size: 13px;
			}
		</style>
	</head>
	<body class="landing">



		<!-- One -->
			<section id="one" class="wrapper style1 special">
				<div class="container">
					<header class="major">
						<h2>Data info.</h2>
						<p>Lorem ipsum dolor sit amet, delectus consequatur, similique quia!</p>
					</header>
					<div class="row 150%">
						<div class="4u 12u$(medium)">
							<section class="box">
								<h3>Hotel category (stars)</h3>
								<div id="stars_chart" class="chart"></div>
							</section>
						</div>
						<div class="4u 12u$(medium)">
							<section class="box">
								<i class="icon big rounded color9 fa-desktop"></i>
								<h3>Consectetur adipisicing</h3>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laudantium ullam consequatur repellat debitis maxime.</p>
							</section>
						</div>
						<div class="4u$ 12u$(medium)">
							<section class="box">
								<i class="icon big rounded color6 fa-rocket"></i>
								<h3>Adipisicing elit totam</h3>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque eaque eveniet, nesciunt molestias. Ipsam, voluptate vero.</p>
							</section>
						</div>
					</div>
				</div>
			</section>
			<section id="two" class="wrapper style2 special">
				<div class="container">
					<div class="row 150%">
						<div class="12u 12u$(medium)">
							<section class="box">
								<svg id="visualisation" width="1000" height="500"></svg>
							</section>
						</div>
					</div>
				</div>
			</section>

		<!-- Two 
			<section id="two" class="wrapper style2 special">
				<div class="container">
					<header class="major">
						<h2>The Team</h2>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio, autem.</p>
					</header>
					<section class="profiles">
						<div class="row">
							<section class="3u 6u(medium) 12u$(xsmall) profile">
								<img src="images/profile_placeholder.gif" alt="" />
								<h4>Alex Castrelo</h4>
								<p>Computer Engineer</p>
							</section>
							<section class="3u 6u$(medium) 12u$(xsmall) profile">
								<img src="images/profile_placeholder.gif" alt="" />
								<h4>Cristina serrano</h4>
								<p>Industrial Engineer</p>
							</section>
							<section class="3u 6u(medium) 12u$(xsmall) profile">
								<img src="images/profile_placeholder.gif" alt="" />
								<h4>Laura Riba</h4>
								<p>Statistic</p>
							</section>
							<section class="3u$ 6u$(medium) 12u$(xsmall) profile">
								<img src="images/profile_placeholder.gif" alt="" />
								<h4>Luis Blanco</h4>
								<p>Telecom Engineer</p>
							</section>
							<section class="3u$ 6u$(medium) 12u$(xsmall) profile">
								<img src="images/profile_placeholder.gif" alt="" />
								<h4>Xavier Paredes</h4>
								<p>Physicist</p>
							</section>
						</div>
					</section>
					<footer>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quibusdam dolore illum, temporibus veritatis eligendi, aliquam, dolor enim itaque veniam aut eaque sequi qui quia vitae pariatur repudiandae ab dignissimos ex!</p>
						<ul class="actions">
							<li>
								<a href="#" class="button big">Lorem ipsum dolor sit</a>
							</li>
						</ul>
					</footer>
				</div>
			</section>-->

		<!-- Three -->
			<!--<section id="three" class="wrapper style3 special">
				<div class="container">
					<header class="major">
						<h2>Get in touch with us</h2>
						<p>Lorem ipsum dolor sit amet. Delectus consequatur, similique quia!</p>
					</header>
				</div>
				<div class="container 50%">
					<form action="#" method="post">
						<div class="row uniform">
							<div class="6u 12u$(small)">
								<input name="name" id="name" value="" placeholder="Name" type="text">
							</div>
							<div class="6u$ 12u$(small)">
								<input name="email" id="email" value="" placeholder="Email" type="email">
							</div>
							<div class="12u$">
								<textarea name="message" id="message" placeholder="Message" rows="6"></textarea>
							</div>
							<div class="12u$">
								<ul class="actions">
									<li><input value="Send Message" class="special big" type="submit"></li>
								</ul>
							</div>
						</div>
					</form>
				</div>
			</section>-->

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<div class="row">
						<div class="8u 12u$(medium)">
							<ul class="copyright">
								<li>&copy; <a href="http://www.wtfpl.net/txt/copying/" target="_blank">DWTFYW Public License</a></li>
								<li>Design: <a href="http://templated.co" target="_blank">TEMPLATED</a></li>
								<li>Images: <a href="http://unsplash.com" target="_blank">Unsplash</a></li>
							</ul>
						</div>
						<div class="4u$ 12u$(medium)">
							<ul class="icons">
								<li>
									<a class="icon rounded fa-facebook"><span class="label">Facebook</span></a>
								</li>
								<li>
									<a class="icon rounded fa-twitter"><span class="label">Twitter</span></a>
								</li>
								<li>
									<a class="icon rounded fa-google-plus"><span class="label">Google+</span></a>
								</li>
								<li>
									<a class="icon rounded fa-linkedin"><span class="label">LinkedIn</span></a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</footer>

	</body>
	<script>
		var res;
		(function(){
			var data = [4, 8, 15, 16, 23, 42];
			
			setTimeout(function(){
				width = document.querySelector("#stars_chart").offsetWidth;
				var x = d3.scale.linear()
					.domain([0, d3.max(data)])
					.range([0, width]);
					
				d3.select("#stars_chart")
				  .selectAll("div")
					.data(data)
				  .enter().append("div")
					.style("width", function(d) { return x(d) + "px"; })
					.text(function(d) { return d; });
			}, 1000);
			/*
			$.ajax({
				//url: "http://cdn.neoares.eu/output.txt",
				url: "y_y_pred.txt",
				//headers: {'Access-Control-Allow-Origin':'http://cdn.neoares.eu/','Access-Control-Allow-Credentials':'true'},
				//crossDomain: true,
				//dataType: 'text',
				success: function(data){
					res = data.split("\n").map(function(e){return [parseInt(e.split(" ")[0]), parseFloat(e.split(" ")[1])]})
					console.log("SUCCESS");
				},
				error: function(e,text,errorThrown){
					alert(text);
					console.log(e);
					console.log(errorThrown);
					//alert(errorThrown);
				}
			})
			*/
			
		})();
		var data = [{
			"sale": "202",
			"year": "2000"
		}, {
			"sale": "215",
			"year": "2001"
		}, {
			"sale": "179",
			"year": "2002"
		}, {
			"sale": "199",
			"year": "2003"
		}, {
			"sale": "134",
			"year": "2003"
		}, {
			"sale": "176",
			"year": "2010"
		}];
		var vis = d3.select("#visualisation");
		var WIDTH = 1000;
		var HEIGHT = 500;
		var MARGINS = {
			top: 20,
			right: 20,
			bottom: 20,
			left: 50
		};
		var xScale = d3.scale.linear().range([MARGINS.left, WIDTH - MARGINS.right]).domain([2000,2010]);
		var yScale = d3.scale.linear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([134,215]);
		
		var xAxis = d3.svg.axis()
			.scale(xScale);

		var yAxis = d3.svg.axis()
			.scale(yScale)
			.orient("left");
			
		vis.append("svg:g")
			.attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
			.call(xAxis);
			
		vis.append("svg:g")
			.attr("transform", "translate(" + (MARGINS.left) + ",0)")
			.call(yAxis);
		
		var lineGen = d3.svg.line()
			.x(function(d) {
				return xScale(d.year);
			})
			.y(function(d) {
				return yScale(d.sale);
			});
		
		vis.append('svg:path')
		  .attr('d', lineGen(data))
		  .attr('stroke', 'green')
		  .attr('stroke-width', 2)
		  .attr('fill', 'none');
		 
		// esto no esta funcionando, sigue apareciendo super lineal el grafico
		var lineGen = d3.svg.line()
			.x(function(d) {
				return xScale(d.year);
			})
			.y(function(d) {
				return yScale(d.sale);
			})
			.interpolate("basis");

	</script>
	
</html>